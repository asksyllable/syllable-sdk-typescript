/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  RequestStatus,
  RequestStatus$inboundSchema,
  RequestStatus$outboundSchema,
} from "./requeststatus.js";

/**
 * Variables for request
 */
export type RequestVariables = {};

export type CommunicationRequestResult = {
  /**
   * Unique ID for conversation batch
   */
  batchId: string;
  /**
   * ID for target outreach (unique within batch)
   */
  referenceId: string;
  /**
   * Target phone number or email address
   */
  target: string;
  /**
   * Status of a communication request.
   */
  requestStatus?: RequestStatus | undefined;
  /**
   * Variables for request
   */
  requestVariables: RequestVariables;
  /**
   * Call manager SID
   */
  callManagerSid?: string | null | undefined;
  /**
   * Timestamp of request creation
   */
  createdAt?: string | undefined;
  /**
   * Timestamp at which request was sent
   */
  sentAt?: string | null | undefined;
  /**
   * Number of attempts for request
   */
  attemptCount?: number | undefined;
  /**
   * Unique ID for call session
   */
  sessionId?: number | null | undefined;
  /**
   * Unique ID for conversation
   */
  conversationId?: number | null | undefined;
};

/** @internal */
export const RequestVariables$inboundSchema: z.ZodType<
  RequestVariables,
  z.ZodTypeDef,
  unknown
> = z.object({});

/** @internal */
export type RequestVariables$Outbound = {};

/** @internal */
export const RequestVariables$outboundSchema: z.ZodType<
  RequestVariables$Outbound,
  z.ZodTypeDef,
  RequestVariables
> = z.object({});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace RequestVariables$ {
  /** @deprecated use `RequestVariables$inboundSchema` instead. */
  export const inboundSchema = RequestVariables$inboundSchema;
  /** @deprecated use `RequestVariables$outboundSchema` instead. */
  export const outboundSchema = RequestVariables$outboundSchema;
  /** @deprecated use `RequestVariables$Outbound` instead. */
  export type Outbound = RequestVariables$Outbound;
}

export function requestVariablesToJSON(
  requestVariables: RequestVariables,
): string {
  return JSON.stringify(
    RequestVariables$outboundSchema.parse(requestVariables),
  );
}

export function requestVariablesFromJSON(
  jsonString: string,
): SafeParseResult<RequestVariables, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RequestVariables$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RequestVariables' from JSON`,
  );
}

/** @internal */
export const CommunicationRequestResult$inboundSchema: z.ZodType<
  CommunicationRequestResult,
  z.ZodTypeDef,
  unknown
> = z.object({
  batch_id: z.string(),
  reference_id: z.string(),
  target: z.string(),
  request_status: RequestStatus$inboundSchema.optional(),
  request_variables: z.lazy(() => RequestVariables$inboundSchema),
  call_manager_sid: z.nullable(z.string()).optional(),
  created_at: z.string().optional(),
  sent_at: z.nullable(z.string()).optional(),
  attempt_count: z.number().int().default(0),
  session_id: z.nullable(z.number().int()).optional(),
  conversation_id: z.nullable(z.number().int()).optional(),
}).transform((v) => {
  return remap$(v, {
    "batch_id": "batchId",
    "reference_id": "referenceId",
    "request_status": "requestStatus",
    "request_variables": "requestVariables",
    "call_manager_sid": "callManagerSid",
    "created_at": "createdAt",
    "sent_at": "sentAt",
    "attempt_count": "attemptCount",
    "session_id": "sessionId",
    "conversation_id": "conversationId",
  });
});

/** @internal */
export type CommunicationRequestResult$Outbound = {
  batch_id: string;
  reference_id: string;
  target: string;
  request_status?: string | undefined;
  request_variables: RequestVariables$Outbound;
  call_manager_sid?: string | null | undefined;
  created_at?: string | undefined;
  sent_at?: string | null | undefined;
  attempt_count: number;
  session_id?: number | null | undefined;
  conversation_id?: number | null | undefined;
};

/** @internal */
export const CommunicationRequestResult$outboundSchema: z.ZodType<
  CommunicationRequestResult$Outbound,
  z.ZodTypeDef,
  CommunicationRequestResult
> = z.object({
  batchId: z.string(),
  referenceId: z.string(),
  target: z.string(),
  requestStatus: RequestStatus$outboundSchema.optional(),
  requestVariables: z.lazy(() => RequestVariables$outboundSchema),
  callManagerSid: z.nullable(z.string()).optional(),
  createdAt: z.string().optional(),
  sentAt: z.nullable(z.string()).optional(),
  attemptCount: z.number().int().default(0),
  sessionId: z.nullable(z.number().int()).optional(),
  conversationId: z.nullable(z.number().int()).optional(),
}).transform((v) => {
  return remap$(v, {
    batchId: "batch_id",
    referenceId: "reference_id",
    requestStatus: "request_status",
    requestVariables: "request_variables",
    callManagerSid: "call_manager_sid",
    createdAt: "created_at",
    sentAt: "sent_at",
    attemptCount: "attempt_count",
    sessionId: "session_id",
    conversationId: "conversation_id",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CommunicationRequestResult$ {
  /** @deprecated use `CommunicationRequestResult$inboundSchema` instead. */
  export const inboundSchema = CommunicationRequestResult$inboundSchema;
  /** @deprecated use `CommunicationRequestResult$outboundSchema` instead. */
  export const outboundSchema = CommunicationRequestResult$outboundSchema;
  /** @deprecated use `CommunicationRequestResult$Outbound` instead. */
  export type Outbound = CommunicationRequestResult$Outbound;
}

export function communicationRequestResultToJSON(
  communicationRequestResult: CommunicationRequestResult,
): string {
  return JSON.stringify(
    CommunicationRequestResult$outboundSchema.parse(communicationRequestResult),
  );
}

export function communicationRequestResultFromJSON(
  jsonString: string,
): SafeParseResult<CommunicationRequestResult, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CommunicationRequestResult$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CommunicationRequestResult' from JSON`,
  );
}
